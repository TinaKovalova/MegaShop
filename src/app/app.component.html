<nav class="navbar navbar-expand-lg navbar-dark bg-dark d-flex ">
  <div class="container-fluid ">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup"
            aria-expanded="false"
            aria-label="navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse " id="navbarNavAltMarkup">
      <ul class="navbar-nav  me-auto mb-2 mb-lg-0   nav-pills nav-fill">
        <li class="nav-item dropdown ">
          <a class="nav-link"
             id="navbarDropdown"
             role="button"
             data-bs-toggle="dropdown"
             aria-expanded="false">
            <span class="fs-5 font-weight-normal">
              <img src="assets/user.png" class="nav-image">
              <span class="text-info h4 p-2" *ngIf="isAuth">{{userName}}</span>
            </span>
          </a>

          <div class="dropdown-menu dropdown-menu-dark" aria-labelledby="navbarDropdown">
            <div *ngIf="!isAuth else logoutBtn">
              <form class="d-flex flex-column justify-content-center dropdown-item"
                    [formGroup]="loginForm" (ngSubmit)="login()">
                <div>
                  <input class="form-control" type="email" placeholder="email" formControlName="userLogin">
                </div>
                <div>
                  <input class="form-control mt-1" type="password" placeholder="password"
                         formControlName="passwordHash">
                </div>
                <button class="btn btn-outline-info mt-1  btn-sm"
                        type="submit"
                        [disabled]="loginForm.invalid"
                >Login
                </button>
              </form>
              <hr>
              <div class="d-flex justify-content-center">
                <a routerLink="/registration" class="link-info">Registration</a>
              </div>
            </div>

            <ng-template #logoutBtn>
              <div class="d-flex flex-column justify-content-center dropdown-item">
                <span class="text-info h5 p-2">{{userName}}</span>
                <button class="btn btn-outline-info" type="button" (click)="logout()">Logout</button>
              </div>

            </ng-template>


          </div>
        </li>
        <li class="nav-item" routerLinkActive="active">
          <a class="nav-link" routerLink="/home">
            <img src="assets/pngwing.com.png"
                 class="nav-logo"
                 alt="logo">
          </a>
        </li>
        <li class="nav-item dropdown ">
          <a class="nav-link"
             id="navbarDropdownCategory"
             role="button"
             data-bs-toggle="dropdown"
             aria-expanded="false"
             (click)="getAllCategories()">
            <span class="fs-5 font-weight-normal">Каталог товаров</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="navbarDropdownCategory">
            <li *ngFor="let category of categories">
              <a class="dropdown-item"
                 routerLink="/catalog"
                 [queryParams]="{category:category.categoryId}">{{category.categoryName}}</a>
            </li>
          </ul>
        </li>

        <li routerLinkActive="active" class="nav-item">
          <a class="nav-link" routerLink="/order"><span class="fs-5 font-weight-normal">Корзина</span></a>
        </li>
        <li routerLinkActive="active" *ngIf="userRole==='1'" class="nav-item">
          <a class="nav-link"
             routerLink="/admin">
            <img src="assets/tools.png"
                 class="nav-image"
                 alt="enter">
          </a>
        </li>


      </ul>
    </div>


  </div>
  <!--  <form class="d-flex" [formGroup]="loginForm" (ngSubmit)="login()" *ngIf="!isAuth else logoutBtn">-->
  <!--    <input class="form-control me-2" type="email" placeholder="email" formControlName="userLogin">-->
  <!--    <input class="form-control me-2" type="password" placeholder="password" formControlName="passwordHash">-->
  <!--    <button class="btn btn-outline-info"-->
  <!--            type="submit"-->
  <!--            [disabled]="loginForm.invalid"-->
  <!--    >Login-->
  <!--    </button>-->
  <!--  </form>-->
  <!--  <ng-template #logoutBtn>-->
  <!--    <span class="text-info h4 p-2">{{userName}}</span>-->
  <!--    <button class="btn btn-outline-info" type="button" (click)="logout()">Logout</button>-->
  <!--  </ng-template>-->

  <!--  <button class="btn btn-outline-info" type="submit"-->
  <!--          routerLink="/registration">Registration-->
  <!--  </button>-->


</nav>

<div class="container-fluid">
  <router-outlet></router-outlet>
</div>


